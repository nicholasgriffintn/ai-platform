{
	"name": "assistant",
	"main": "src/index.ts",
	"compatibility_date": "2022-11-22",
  "compatibility_flags": [
    "transformstream_enable_standard_constructor",
		"streams_enable_constructors"
  ],
	"workers_dev": false,
	"dev": {
		"port": 8787
	},
	"route": {
		"pattern": "<YOUR_DOMAIN>/*",
		"zone_name": "<YOUR_DOMAIN>"
	},
	"vars": {
		"ACCOUNT_ID": "<ACCOUNT_ID>",
		"AUTH_REDIRECT_URL": "<AUTH_REDIRECT_URL>",
		"PUBLIC_ASSETS_URL": "<PUBLIC_ASSETS_URL>",
		"PUBLIC_ASSETS_BUCKET": "<PUBLIC_ASSETS_BUCKET>",
		"REQUIRE_TURNSTILE_TOKEN": "false",
		"ALWAYS_ENABLED_PROVIDERS": "workers-ai,mistral"
	},
	"ai": {
		"binding": "AI"
	},
	"vectorize": [
		{
			"binding": "VECTOR_DB",
			"index_name": "<INDEX_NAME>"
		}
	],
	"observability": {
		"enabled": true,
		"head_sampling_rate": 0.1,
    "logs": {
      "enabled": true,
      "invocation_logs": false
    }
	},
	"analytics_engine_datasets": [
		{
			"binding": "ANALYTICS",
			"dataset": "<DATASET>"
		}
	],
	"r2_buckets": [
		{
			"binding": "ASSETS_BUCKET",
			"bucket_name": "<BUCKET_NAME>",
			"preview_bucket_name": "<PREVIEW_BUCKET_NAME>"
		}
	],
	"d1_databases": [
		{
			"binding": "DB",
			"database_name": "<DATABASE_NAME>",
			"database_id": "<DATABASE_ID>",
			"preview_database_id": "<PREVIEW_DATABASE_ID>"
		}
	],
  "unsafe": {
    "bindings": [
      {
        "name": "RATE_LIMITER",
        "type": "ratelimit",
        "namespace_id": "1001",
        "simple": {
          "limit": 10,
          "period": 60
        }
      },
      {
        "name": "PRO_RATE_LIMITER",
        "type": "ratelimit",
        "namespace_id": "1002",
        "simple": {
          "limit": 100,
          "period": 60
        }
      }
    ]
  }
}
